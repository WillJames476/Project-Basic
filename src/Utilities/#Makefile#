CXX = g++
CXXFLAGS = -Wall -Wextra -Wpedantic -O3 -g

OBJDIR = ../obj
INPUTOUTPUTDIR = inputoutput
SERVERDIR = server

INPUTOUTPUTFILES := $(wildcard $(INPUTOUTPUTDIR)/*.cpp)
SERVERFILES := $(wildcard $(SERVERDIR)/*.cpp)

INPUTOUTPUTOBJ := $(patsubst $(INPUTOUTPUTDIR)%.cpp, $(OBJDIR)/%.o, $(INPUTOUTPUTFILES))

all: $(INPUTOUTPUTOBJ)
	make $^

$(INPUTOUTPUTOBJ): $(INPUTOUTPUTFILES)
	$(CXX) $(CXXFLAGS) -c $< -o $@
